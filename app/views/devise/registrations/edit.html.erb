<%= render "devise/shared/error_messages", resource: resource %>

<div class="my-5 mx-auto auth-form">
  <h2 class="text-center">Edit user</h2>

  <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
    <div class="field mt-3">
      <%= f.label :email, class: "form-label" %><br />
      <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "form-control" %>
    </div>

    <div class="field mt-3">
      <%= f.label :password, class: "form-label" %>
      <% if @minimum_password_length %>
        <em>(<%= @minimum_password_length %> characters minimum)</em>
      <% end %><br />
      <%= f.password_field :password, autocomplete: "new-password", class: "form-control" %>
    </div>

    <div class="field mt-3">
      <%= f.label :password_confirmation, class: "form-label" %><br />
      <%= f.password_field :password_confirmation, autocomplete: "new-password", class: "form-control" %>
    </div>

    <div class="field mt-3">
      <%= f.label :current_password, class: "form-label" %>
      <em>(we need your current password to confirm your changes)</em>
      <%= f.password_field :current_password, autocomplete: "current-password", class: "form-control" %>
    </div>

    <div class="actions mt-3">
      <%= f.submit "Update", class: "btn btn-success w-100" %>
    </div>

  <% end %>

  <p class="text-center mt-3">
    <%= link_to "Go back", :back %>
  </p>

  <hr class="mt-5" />

  <h3 class="text-center mt-5">Delete account</h3>

  <p class="alert alert-danger">If you click on the "Delete my account" button, all your account data, including email, password, all your wishlists and their items will be permanently deleted immediately for all users and site administrators. You will not be able to undo this action, log into your account in the future, view your wishlists and items. You will be able to register a new account with the same email and username in the future if no one takes them before you.</p>

  <div class="actions mt-3">
    <%= button_to "Delete my account", registration_path(resource_name), class: "btn btn-danger w-100", data: { confirm: "Are you sure? This action is irreversible!", turbo_confirm: "Are you sure? This action is irreversible!" }, method: :delete %>
  </div>
</div>
